<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8">
  <title>learning-rxjs</title>
  <script src="https://cdn.bootcss.com/rxjs/6.0.0-alpha.3/Rx.min.js"></script>
</head>
<body>
  <input type="text" style="width: 200px" disabled/>
  <button>增加</button>
</body>
<script>
const state$ = Rx.Observable
  .fromEvent(document.querySelector('button'), 'click')
  .map(() => state => Object.assign({}, state, { count: state.count + 1 }))
  .scan((state, changeFn) => changeFn(state), { count: 0 })

state$.subscribe(state => document.querySelector('input').value = state.count)

</script>
</html>
